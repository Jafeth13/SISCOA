
<app-navbar></app-navbar>

<mat-stepper [linear]="false" #stepper>
    
      <mat-step [stepControl]="firstFormGroup" [editable]="true">
        <form [formGroup]="firstFormGroup">

        <ng-template matStepLabel>Seleciona la oficina</ng-template>

          <div class="filtro">
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Busqueda</mat-label>
          <input
            matInput
            placeholder="Ingresa datos"
            (keyup)="applyFilter($event)"
          />
        </mat-form-field>
      </div>
        <table mat-table [dataSource]="dataSource">

          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef><b> Nombre</b> </th>
            <td mat-cell *matCellDef="let element"> {{element.TC_Nombre}} </td>
          </ng-container>
      
          <!-- code Column -->
          <ng-container matColumnDef="code">
            <th mat-header-cell *matHeaderCellDef><b> Codigo</b> </th>
            <td mat-cell *matCellDef="let element"> {{element.TC_CodigoOficina}} </td>
          </ng-container>
      
        
    
       <!-- institution Column -->
       <ng-container matColumnDef="institution">
        <th mat-header-cell *matHeaderCellDef  class="pintar"><b> Institucion </b>  </th>
        <td mat-cell *matCellDef="let element"> {{element.TC_Institucion}} </td>
      </ng-container>
      
          <!-- action Column -->
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef><b>Action</b> </th>
            <td mat-cell *matCellDef="let element">   <div class="example-button-row">
                <div class="example-button-container">
                   <button (click)="dar(element.ID,element.TC_Nombre)"
                   mat-fab color="primary"  mat-button matStepperNext aria-label="Example icon button with a delete icon">
                        <mat-icon>book</mat-icon>     
                    </button>  
                   
                   
                </div>    
                 
              </div> </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons 
        aria-label="Select page of periodic elements">
        </mat-paginator>

        <div>
          <button mat-button (click)="back();">Regresar</button>
        </div>
        

   
       
        </form>
      </mat-step>
      <mat-step>
          <ng-template matStepLabel>Lista de controles</ng-template>
          <div class="filtro">
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>Busqueda</mat-label>
              <input
                matInput
                placeholder="Ingresa datos"
                (keyup)="applyFilter2($event)"
              />
            </mat-form-field>
          </div>
          
          <div class="mat-elevation-z8">  
          <input class="nameOffice" [(ngModel)]="name.nameOff"  disabled>

            <table mat-table [dataSource]="dataSourceControl">
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef><b> Nombre</b></th>
                <td mat-cell *matCellDef="let element">{{ element.TSISCOA_Control.TC_Nombre }}</td>
              </ng-container>
      
              <!-- Descripcion Column -->
              <ng-container matColumnDef="Descripcion">
                <th mat-header-cell *matHeaderCellDef><b> Descripcion</b></th>
                <td mat-cell *matCellDef="let element">
                  {{ element.TSISCOA_Control.TC_DescriptionDocumentacionEvidencia }}
                </td>
              </ng-container>
      
              <!-- Period Column -->
              <ng-container matColumnDef="Period">
                <th mat-header-cell *matHeaderCellDef><b> Periodo</b></th>
                <td mat-cell *matCellDef="let element">
                  {{ element.TSISCOA_Periodo.TC_Nombre }}
                </td>
              </ng-container>
      
              <!-- status Column -->
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef class="pintar">
                  <b> Estado </b>
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.TSISCOA_Estado.TC_Nombre }}
                </td>
              </ng-container>
              <!-- role Column -->
              <ng-container matColumnDef="notification">
                <th mat-header-cell *matHeaderCellDef><b>Notificacion</b></th>
                <td mat-cell *matCellDef="let element">
                  {{ element.TSISCOA_Control.TB_NotificacionCorreoAColaborador }}
                </td>
              </ng-container>
              <!-- action Column -->
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef><b>Action</b></th>
                <td mat-cell *matCellDef="let element">
                  <div class="example-button-row">
                    <div class="example-button-container">
                      <button
                        (click)="update(element.ID)"

                        mat-fab
                        color="primary"
                        mat-button  matStepperNext
                        aria-label="Example icon button with a delete icon"
                      >
                        <mat-icon>assignment</mat-icon>
                      </button>
                    </div>
                  </div>
                </td>
              </ng-container>
      
              <tr mat-header-row *matHeaderRowDef="displayedxColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedxColumns"></tr>
            </table>
      
            <mat-paginator
              [pageSizeOptions]="[5, 10, 20]"
              showFirstLastButtons
              aria-label="Select page of periodic elements"
            >
            </mat-paginator>
          </div>
          <div>
            <button mat-fab color="primary"   aria-label="Example icon button with a delete icon" mat-button matStepperPrevious><mat-icon>navigate_before</mat-icon></button>
         
          </div>       
      </mat-step>
        <mat-step>
          <form  #formDir="ngForm">
        <ng-template matStepLabel>Actualizar control</ng-template>
        <div class="container">
            <div class="col-md-offset-1 col-md-4 col-sm-12" id="log">
                <br>
                <br>
                <br>
                <div class="entry-formRate">
                    <form *ngIf="controlDataupdate"  action="" id="userRegister-entry-form">
                        <h2>Actualizar</h2>
                        <input   type="text"  hidden>
    
    
                        <input  [(ngModel)]="controlDataupdate.TSISCOA_Control.TC_Nombre"   type="text" autocomplete="off" name="name_Admin" id="name_Admin" class="form-control rounded-left" placeholder="Nombre" required="">
                        
                        <input [(ngModel)]="controlDataupdate.TSISCOA_Periodo.TC_Nombre"  class="form-control rounded-left" name="name" id="Admin">

                        <textarea  [(ngModel)]="controlDataupdate.TSISCOA_Control.TC_DescriptionDocumentacionEvidencia"  type="text" autocomplete="off" name="lastName_Admin" id="lastName_Admin" class="form-control rounded-left" placeholder="Descripcion" required="">
                        </textarea>
                        <div class="nc">
                          <div>
                            <br />
                           
                         
                            <mat-label>Elige la nueva fecha con dias extras</mat-label>
                            <br />
                            <input
                              class="nc"
                              id="date1"
                              matInput
                              [matDatepicker]="picker"
                              (dateInput)="selectDate('input', $event)"
                              (dateChange)="selectDate('change', $event)"
                              formControlName="firstCtrl"
                              required
                            />
                            <br />
                            <mat-hint class="nc">MM/DD/YYYY</mat-hint>
                            <mat-datepicker-toggle
                              matSuffix
                              [for]="picker"
                              class="nc"
                            ></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                          </div>
    
                        <input [(ngModel)]="controlDataupdate.TSISCOA_Estado.TC_Nombre" class="form-control rounded-left" name="role_Admin" id="role_Admin" >

                        <input  [(ngModel)]="controlDataupdate.TSISCOA_Control.TB_NotificacionCorreoAColaborador"  type="text" autocomplete="off" name="password_Admin" id="password_Admin" class="form-control rounded-left" placeholder="Notificacion" required="">
                                         
          <button class="submit-btn form-control" (click)="extraDay()">
            Brindar dias extras
          </button>
                      </div>
                    </form>
    
                </div>
            </div>
            
        </div>
        
  
       
      
    </form>
  
    <button mat-fab color="primary"   aria-label="Example icon button with a delete icon" mat-button matStepperPrevious><mat-icon>navigate_before</mat-icon></button>

 
      
      </mat-step>
    </mat-stepper>